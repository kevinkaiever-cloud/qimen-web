# 域名 7menquant.shop 绑定到服务器

服务器 IP：**103.189.141.176**

---

## 一、域名 DNS 解析（在域名服务商处操作）

在购买 7menquant.shop 的平台（阿里云、腾讯云、Cloudflare、GoDaddy 等）做如下解析：

| 记录类型 | 主机记录 | 记录值 | 说明 |
|----------|----------|--------|------|
| A | @ | 103.189.141.176 | 主域名 7menquant.shop |
| A | www | 103.189.141.176 | 二级域名 www.7menquant.shop |

保存后等待几分钟到几十分钟生效（可用 `ping 7menquant.shop` 检查是否指向 103.189.141.176）。

---

## 二、服务器上安装并配置 Nginx

### 1. 安装 Nginx（若未安装）

```bash
# Ubuntu/Debian
sudo apt update
sudo apt install -y nginx

# CentOS
sudo yum install -y nginx
# 或
sudo dnf install -y nginx
```

### 2. 上传并启用站点配置

本机已准备好配置文件 `nginx-7menquant.shop.conf`。在**服务器**上执行：

```bash
# 若用 scp 从本机上传（在 Windows 本机 PowerShell 执行）：
scp "C:\Users\Administrator\qimen-web\nginx-7menquant.shop.conf" root@103.189.141.176:/tmp/

# 在服务器上：
sudo mv /tmp/nginx-7menquant.shop.conf /etc/nginx/sites-available/7menquant.shop
sudo ln -sf /etc/nginx/sites-available/7menquant.shop /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

若没有 `sites-available` 目录（如 CentOS），可改为：

```bash
sudo mv /tmp/nginx-7menquant.shop.conf /etc/nginx/conf.d/7menquant.shop.conf
sudo nginx -t
sudo systemctl reload nginx
```

### 3. 开放 80 端口

在云控制台安全组/防火墙中放行 **80**（和后面 HTTPS 的 **443**）端口。

---

## 三、申请 HTTPS 证书（可选但推荐）

```bash
sudo apt install -y certbot python3-certbot-nginx
sudo certbot --nginx -d 7menquant.shop -d www.7menquant.shop
```

按提示输入邮箱、同意条款，certbot 会自动修改 Nginx 并配置 HTTPS。之后访问 https://7menquant.shop 即可。

---

## 四、确认 Node 服务在跑

确保 qimen-web 已启动并监听 3001：

```bash
cd /var/www/qimen-web
pm2 start server.js --name qimen-web
# 或
node server.js
```

---

完成后用浏览器访问 **http://7menquant.shop** 或 **https://7menquant.shop** 即可打开奇门网站。
